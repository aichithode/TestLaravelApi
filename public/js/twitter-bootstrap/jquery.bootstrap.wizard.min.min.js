/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.3.1
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(c){var d=function(q,a){var q=c(q);var r=this;var m='li:has([data-toggle="tab"])';var o=[];var b=c.extend({},c.fn.bootstrapWizard.defaults,a);var p=null;var n=null;this.rebindClick=function(e,f){e.unbind("click",f).bind("click",f)};this.fixNavigationButtons=function(){if(!p.length){n.find("a:first").tab("show");p=n.find(m+":first")}c(b.previousSelector,q).toggleClass("disabled",(r.firstIndex()>=r.currentIndex()));c(b.nextSelector,q).toggleClass("disabled",(r.currentIndex()>=r.navigationLength()));c(b.nextSelector,q).toggleClass("hidden",(r.currentIndex()>=r.navigationLength()&&c(b.finishSelector,q).length>0));c(b.lastSelector,q).toggleClass("hidden",(r.currentIndex()>=r.navigationLength()&&c(b.finishSelector,q).length>0));c(b.finishSelector,q).toggleClass("hidden",(r.currentIndex()<r.navigationLength()));c(b.backSelector,q).toggleClass("disabled",(o.length==0));c(b.backSelector,q).toggleClass("hidden",(r.currentIndex()>=r.navigationLength()&&c(b.finishSelector,q).length>0));r.rebindClick(c(b.nextSelector,q),r.next);r.rebindClick(c(b.previousSelector,q),r.previous);r.rebindClick(c(b.lastSelector,q),r.last);r.rebindClick(c(b.firstSelector,q),r.first);r.rebindClick(c(b.finishSelector,q),r.finish);r.rebindClick(c(b.backSelector,q),r.back);if(b.onTabShow&&typeof b.onTabShow==="function"&&b.onTabShow(p,n,r.currentIndex())===false){return false}};this.next=function(g){if(q.hasClass("last")){return false}if(b.onNext&&typeof b.onNext==="function"&&b.onNext(p,n,r.nextIndex())===false){return false}var f=r.currentIndex();var e=r.nextIndex();if(e>r.navigationLength()){}else{o.push(f);n.find(m+(b.withVisible?":visible":"")+":eq("+e+") a").tab("show")}};this.previous=function(g){if(q.hasClass("first")){return false}if(b.onPrevious&&typeof b.onPrevious==="function"&&b.onPrevious(p,n,r.previousIndex())===false){return false}var f=r.currentIndex();var e=r.previousIndex();if(e<0){}else{o.push(f);n.find(m+(b.withVisible?":visible":"")+":eq("+e+") a").tab("show")}};this.first=function(e){if(b.onFirst&&typeof b.onFirst==="function"&&b.onFirst(p,n,r.firstIndex())===false){return false}if(q.hasClass("disabled")){return false}o.push(r.currentIndex());n.find(m+":eq(0) a").tab("show")};this.last=function(e){if(b.onLast&&typeof b.onLast==="function"&&b.onLast(p,n,r.lastIndex())===false){return false}if(q.hasClass("disabled")){return false}o.push(r.currentIndex());n.find(m+":eq("+r.navigationLength()+") a").tab("show")};this.finish=function(e){if(b.onFinish&&typeof b.onFinish==="function"){b.onFinish(p,n,r.lastIndex())}};this.back=function(){if(o.length==0){return null}var e=o.pop();if(b.onBack&&typeof b.onBack==="function"&&b.onBack(p,n,e)===false){o.push(e);return false}q.find(m+":eq("+e+") a").tab("show")};this.currentIndex=function(){return n.find(m).index(p)};this.firstIndex=function(){return 0};this.lastIndex=function(){return r.navigationLength()};this.getIndex=function(e){return n.find(m).index(e)};this.nextIndex=function(){var e=this.currentIndex();var f=null;do{e++;f=n.find(m+":eq("+e+")")}while((f)&&(f.hasClass("disabled")));return e};this.previousIndex=function(){var f=this.currentIndex();var e=null;do{f--;e=n.find(m+":eq("+f+")")}while((e)&&(e.hasClass("disabled")));return f};this.navigationLength=function(){return n.find(m).length-1};this.activeTab=function(){return p};this.nextTab=function(){return n.find(m+":eq("+(r.currentIndex()+1)+")").length?n.find(m+":eq("+(r.currentIndex()+1)+")"):null};this.previousTab=function(){if(r.currentIndex()<=0){return null}return n.find(m+":eq("+parseInt(r.currentIndex()-1)+")")};this.show=function(e){var f=isNaN(e)?q.find(m+' a[href="#'+e+'"]'):q.find(m+":eq("+e+") a");if(f.length>0){o.push(r.currentIndex());f.tab("show")}};this.disable=function(e){n.find(m+":eq("+e+")").addClass("disabled")};this.enable=function(e){n.find(m+":eq("+e+")").removeClass("disabled")};this.hide=function(e){n.find(m+":eq("+e+")").hide()};this.display=function(e){n.find(m+":eq("+e+")").show()};this.remove=function(h){var e=h[0];var g=typeof h[1]!="undefined"?h[1]:false;var i=n.find(m+":eq("+e+")");if(g){var f=i.find("a").attr("href");c(f).remove()}i.remove()};var s=function(f){var e=n.find(m);var h=e.index(c(f.currentTarget).parent(m));var g=c(e[h]);if(b.onTabClick&&typeof b.onTabClick==="function"&&b.onTabClick(p,n,r.currentIndex(),h,g)===false){return false}};var t=function(f){var g=c(f.target).parent();var e=n.find(m).index(g);if(g.hasClass("disabled")){return false}if(b.onTabChange&&typeof b.onTabChange==="function"&&b.onTabChange(p,n,r.currentIndex(),e)===false){return false}p=g;r.fixNavigationButtons()};this.resetWizard=function(){c('a[data-toggle="tab"]',n).off("click",s);c('a[data-toggle="tab"]',n).off("show show.bs.tab",t);n=q.find("ul:first",q);p=n.find(m+".active",q);c('a[data-toggle="tab"]',n).on("click",s);c('a[data-toggle="tab"]',n).on("show show.bs.tab",t);r.fixNavigationButtons()};n=q.find("ul:first",q);p=n.find(m+".active",q);if(!n.hasClass(b.tabClass)){n.addClass(b.tabClass)}if(b.onInit&&typeof b.onInit==="function"){b.onInit(p,n,0)}if(b.onShow&&typeof b.onShow==="function"){b.onShow(p,n,r.nextIndex())}c('a[data-toggle="tab"]',n).on("click",s);c('a[data-toggle="tab"]',n).on("show show.bs.tab",t)};c.fn.bootstrapWizard=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1);if(b.length===1){b.toString()}return this.data("bootstrapWizard")[a](b)}return this.each(function(j){var i=c(this);if(i.data("bootstrapWizard")){return}var h=new d(i,a);i.data("bootstrapWizard",h);h.fixNavigationButtons()})};c.fn.bootstrapWizard.defaults={withVisible:true,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);