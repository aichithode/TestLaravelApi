var AppCalendar=function(){return{init:function(){this.initCalendar()},initCalendar:function(){if(!jQuery().fullCalendar){return}var d=new Date();var k=d.getDate();var h=d.getMonth();var j=d.getFullYear();var n={};if(App.isRTL()){if($("#calendar").parents(".portlet").width()<=720){$("#calendar").addClass("mobile");n={right:"title, prev, next",center:"",left:"agendaDay, agendaWeek, month, today"}}else{$("#calendar").removeClass("mobile");n={right:"title",center:"",left:"agendaDay, agendaWeek, month, today, prev,next"}}}else{if($("#calendar").parents(".portlet").width()<=720){$("#calendar").addClass("mobile");n={left:"title, prev, next",center:"",right:"today,month,agendaWeek,agendaDay"}}else{$("#calendar").removeClass("mobile");n={left:"title",center:"",right:"prev,next,today,month,agendaWeek,agendaDay"}}}var l=function(a){var b={title:$.trim(a.text())};a.data("eventObject",b);a.draggable({zIndex:999,revert:true,revertDuration:0})};var m=function(a){a=a.length===0?"Untitled Event":a;var b=$('<div class="external-event label label-default">'+a+"</div>");jQuery("#event_box").append(b);l(b)};$("#external-events div.external-event").each(function(){l($(this))});$("#event_add").unbind("click").click(function(){var a=$("#event_title").val();m(a)});$("#event_box").html("");m("My Event 1");m("My Event 2");m("My Event 3");m("My Event 4");m("My Event 5");m("My Event 6");$("#calendar").fullCalendar("destroy");$("#calendar").fullCalendar({header:n,defaultView:"month",slotMinutes:15,editable:true,droppable:true,drop:function(b,a){var c=$(this).data("eventObject");var e=$.extend({},c);e.start=b;e.allDay=a;e.className=$(this).attr("data-class");$("#calendar").fullCalendar("renderEvent",e,true);if($("#drop-remove").is(":checked")){$(this).remove()}},events:[{title:"All Day Event",start:new Date(j,h,1),backgroundColor:App.getBrandColor("yellow")},{title:"Long Event",start:new Date(j,h,k-5),end:new Date(j,h,k-2),backgroundColor:App.getBrandColor("green")},{title:"Repeating Event",start:new Date(j,h,k-3,16,0),allDay:false,backgroundColor:App.getBrandColor("red")},{title:"Repeating Event",start:new Date(j,h,k+4,16,0),allDay:false,backgroundColor:App.getBrandColor("green")},{title:"Meeting",start:new Date(j,h,k,10,30),allDay:false,},{title:"Lunch",start:new Date(j,h,k,12,0),end:new Date(j,h,k,14,0),backgroundColor:App.getBrandColor("grey"),allDay:false,},{title:"Birthday Party",start:new Date(j,h,k+1,19,0),end:new Date(j,h,k+1,22,30),backgroundColor:App.getBrandColor("purple"),allDay:false,},{title:"Click for Google",start:new Date(j,h,28),end:new Date(j,h,29),backgroundColor:App.getBrandColor("yellow"),url:"http://google.com/",}]})}}}();jQuery(document).ready(function(){AppCalendar.init()});