jQuery(document).ready(function(){var e=[],f=0,g=["MSFT","AAPL","GOOG"],h=function(){$("#highstock_1").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:4},yAxis:{labels:{formatter:function(){return(this.value>0?" + ":"")+this.value+"%"}},plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{series:{compare:"percent"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',valueDecimals:2},series:e})};$.each(g,function(a,b){$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename="+b.toLowerCase()+"-c.json&callback=?",function(c){e[a]={name:b,data:c};f+=1;if(f===g.length){h()}})});$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-ohlcv.json&callback=?",function(b){var d=[],c=[],a=b.length,l=[["week",[1]],["month",[1,2,3,4,6]]],i=0;for(i;i<a;i+=1){d.push([b[i][0],b[i][1],b[i][2],b[i][3],b[i][4]]);c.push([b[i][0],b[i][5]])}$("#highstock_2").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:1},title:{text:"AAPL Historical"},yAxis:[{labels:{align:"right",x:-3},title:{text:"OHLC"},height:"60%",lineWidth:2},{labels:{align:"right",x:-3},title:{text:"Volume"},top:"65%",height:"35%",offset:0,lineWidth:2}],series:[{type:"candlestick",name:"AAPL",data:d,dataGrouping:{units:l}},{type:"column",name:"Volume",data:c,yAxis:1,dataGrouping:{units:l}}]})});$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-ohlc.json&callback=?",function(a){$("#highstock_3").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:2},title:{text:"AAPL Stock Price"},series:[{type:"ohlc",name:"AAPL Stock Price",data:a,dataGrouping:{units:[["week",[1]],["month",[1,2,3,4,6]]]}}]})});$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=usdeur.json&callback=?",function(a){var b=new Date(a[a.length-1][0]).getFullYear();$("#highstock_4").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:1},title:{text:"USD to EUR exchange rate"},yAxis:{title:{text:"Exchange rate"}},series:[{name:"USD to EUR",data:a,id:"dataseries",tooltip:{valueDecimals:4}},{type:"flags",data:[{x:Date.UTC(b,1,22),title:"A",text:'Shape: "squarepin"'},{x:Date.UTC(b,3,28),title:"A",text:'Shape: "squarepin"'}],onSeries:"dataseries",shape:"squarepin",width:16},{type:"flags",data:[{x:Date.UTC(b,2,1),title:"B",text:'Shape: "circlepin"'},{x:Date.UTC(b,3,1),title:"B",text:'Shape: "circlepin"'}],shape:"circlepin",width:16},{type:"flags",data:[{x:Date.UTC(b,2,10),title:"C",text:'Shape: "flag"'},{x:Date.UTC(b,3,11),title:"C",text:'Shape: "flag"'}],color:Highcharts.getOptions().colors[0],fillColor:Highcharts.getOptions().colors[0],onSeries:"dataseries",width:16,style:{color:"white"},states:{hover:{fillColor:"#395C84"}}}]})})});