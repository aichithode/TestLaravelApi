var ComponentsFormTools=function(){var g=function(){$("#maxlength_defaultconfig").maxlength({limitReachedClass:"label label-danger",});$("#maxlength_thresholdconfig").maxlength({limitReachedClass:"label label-danger",threshold:20});$("#maxlength_alloptions").maxlength({alwaysShow:true,warningClass:"label label-success",limitReachedClass:"label label-danger",separator:" out of ",preText:"You typed ",postText:" chars available.",validate:true});$("#maxlength_textarea").maxlength({limitReachedClass:"label label-danger",alwaysShow:true});$("#maxlength_placement").maxlength({limitReachedClass:"label label-danger",alwaysShow:true,placement:App.isRTL()?"top-right":"top-left"})};var h=function(){var a=false;var b=$("#password_strength");b.keydown(function(){if(a===false){b.pwstrength({raisePower:1.4,minChar:8,verdicts:["Weak","Normal","Medium","Strong","Very Strong"],scores:[17,26,40,50,60]});b.pwstrength("addRule","demoRule",function(j,d,c){return d.match(/[a-z].[0-9]/)&&c},10,true);a=true}})};var e=function(){var a=$("#username1_input");$("#username1_checker").click(function(b){var d=$(this);if(a.val()===""){a.closest(".form-group").removeClass("has-success").addClass("has-error");d.popover("destroy");d.popover({placement:(App.isRTL()?"left":"right"),html:true,container:"body",content:"Please enter a username to check its availability.",});d.data("bs.popover").tip().addClass("error");App.setLastPopedPopover(d);d.popover("show");b.stopPropagation();return}var c=$(this);c.attr("disabled",true);a.attr("readonly",true).attr("disabled",true).addClass("spinner");$.post("../demo/username_checker.php",{username:a.val()},function(j){c.attr("disabled",false);a.attr("readonly",false).attr("disabled",false).removeClass("spinner");if(j.status=="OK"){a.closest(".form-group").removeClass("has-error").addClass("has-success");d.popover("destroy");d.popover({html:true,placement:(App.isRTL()?"left":"right"),container:"body",content:j.message,});d.popover("show");d.data("bs.popover").tip().removeClass("error").addClass("success")}else{a.closest(".form-group").removeClass("has-success").addClass("has-error");d.popover("destroy");d.popover({html:true,placement:(App.isRTL()?"left":"right"),container:"body",content:j.message,});d.popover("show");d.data("bs.popover").tip().removeClass("success").addClass("error");App.setLastPopedPopover(d)}},"json")})};var f=function(){$("#username2_input").change(function(){var a=$(this);if(a.val()===""){a.closest(".form-group").removeClass("has-error").removeClass("has-success");$(".fa-check, fa-warning",a.closest(".form-group")).remove();return}a.attr("readonly",true).attr("disabled",true).addClass("spinner");$.post("../demo/username_checker.php",{username:a.val()},function(b){a.attr("readonly",false).attr("disabled",false).removeClass("spinner");if(b.status=="OK"){a.closest(".form-group").removeClass("has-error").addClass("has-success");$(".fa-warning",a.closest(".form-group")).remove();a.before('<i class="fa fa-check"></i>');a.data("bs.popover").tip().removeClass("error").addClass("success")}else{a.closest(".form-group").removeClass("has-success").addClass("has-error");$(".fa-check",a.closest(".form-group")).remove();a.before('<i class="fa fa-warning"></i>');a.popover("destroy");a.popover({html:true,placement:(App.isRTL()?"left":"right"),container:"body",content:b.message,});a.popover("show");a.data("bs.popover").tip().removeClass("success").addClass("error");App.setLastPopedPopover(a)}},"json")})};return{init:function(){g();h();e();f()}}}();if(App.isAngularJsApp()===false){jQuery(document).ready(function(){ComponentsFormTools.init()})};