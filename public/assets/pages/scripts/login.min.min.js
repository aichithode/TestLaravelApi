var Login=function(){var f=function(){$(".login-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:false,rules:{username:{required:true},password:{required:true},remember:{required:false}},messages:{username:{required:"Username is required."},password:{required:"Password is required."}},invalidHandler:function(a,b){$(".alert-danger",$(".login-form")).show()},highlight:function(a){$(a).closest(".form-group").addClass("has-error")},success:function(a){a.closest(".form-group").removeClass("has-error");a.remove()},errorPlacement:function(b,a){b.insertAfter(a.closest(".input-icon"))},submitHandler:function(a){a.submit()}});$(".login-form input").keypress(function(a){if(a.which==13){if($(".login-form").validate().form()){$(".login-form").submit()}return false}})};var e=function(){$(".forget-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:false,ignore:"",rules:{email:{required:true,email:true}},messages:{email:{required:"Email is required."}},invalidHandler:function(a,b){},highlight:function(a){$(a).closest(".form-group").addClass("has-error")},success:function(a){a.closest(".form-group").removeClass("has-error");a.remove()},errorPlacement:function(b,a){b.insertAfter(a.closest(".input-icon"))},submitHandler:function(a){a.submit()}});$(".forget-form input").keypress(function(a){if(a.which==13){if($(".forget-form").validate().form()){$(".forget-form").submit()}return false}});jQuery("#forget-password").click(function(){jQuery(".login-form").hide();jQuery(".forget-form").show()});jQuery("#back-btn").click(function(){jQuery(".login-form").show();jQuery(".forget-form").hide()})};var d=function(){function a(b){if(!b.id){return b.text}var c=$('<span><img src="../assets/global/img/flags/'+b.element.value.toLowerCase()+'.png" class="img-flag" /> '+b.text+"</span>");return c}if(jQuery().select2&&$("#country_list").size()>0){$("#country_list").select2({placeholder:'<i class="fa fa-map-marker"></i>&nbsp;Select a Country',templateResult:a,templateSelection:a,width:"auto",escapeMarkup:function(b){return b}});$("#country_list").change(function(){$(".register-form").validate().element($(this))})}$(".register-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:false,ignore:"",rules:{fullname:{required:true},email:{required:true,email:true},address:{required:true},city:{required:true},country:{required:true},username:{required:true},password:{required:true},rpassword:{equalTo:"#register_password"},tnc:{required:true}},messages:{tnc:{required:"Please accept TNC first."}},invalidHandler:function(b,c){},highlight:function(b){$(b).closest(".form-group").addClass("has-error")},success:function(b){b.closest(".form-group").removeClass("has-error");b.remove()},errorPlacement:function(c,b){if(b.attr("name")=="tnc"){c.insertAfter($("#register_tnc_error"))}else{if(b.closest(".input-icon").size()===1){c.insertAfter(b.closest(".input-icon"))}else{c.insertAfter(b)}}},submitHandler:function(b){b.submit()}});$(".register-form input").keypress(function(b){if(b.which==13){if($(".register-form").validate().form()){$(".register-form").submit()}return false}});jQuery("#register-btn").click(function(){jQuery(".login-form").hide();jQuery(".register-form").show()});jQuery("#register-back-btn").click(function(){jQuery(".login-form").show();jQuery(".register-form").hide()})};return{init:function(){f();e();d()}}}();jQuery(document).ready(function(){Login.init()});