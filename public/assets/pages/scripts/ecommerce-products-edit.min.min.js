var EcommerceProductsEdit=function(){var f=function(){var a=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:document.getElementById("tab_images_uploader_pickfiles"),container:document.getElementById("tab_images_uploader_container"),url:"assets/plugins/plupload/examples/upload.php",filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"}]},flash_swf_url:"assets/plugins/plupload/js/Moxie.swf",silverlight_xap_url:"assets/plugins/plupload/js/Moxie.xap",init:{PostInit:function(){$("#tab_images_uploader_filelist").html("");$("#tab_images_uploader_uploadfiles").click(function(){a.start();return false});$("#tab_images_uploader_filelist").on("click",".added-files .remove",function(){a.removeFile($(this).parent(".added-files").attr("id"));$(this).parent(".added-files").remove()})},FilesAdded:function(c,b){plupload.each(b,function(d){$("#tab_images_uploader_filelist").append('<div class="alert alert-warning added-files" id="uploaded_file_'+d.id+'">'+d.name+"("+plupload.formatSize(d.size)+') <span class="status label label-info"></span>&nbsp;<a href="javascript:;" style="margin-top:-5px" class="remove pull-right btn btn-sm red"><i class="fa fa-times"></i> remove</a></div>')})},UploadProgress:function(c,b){$("#uploaded_file_"+b.id+" > .status").html(b.percent+"%")},FileUploaded:function(j,c,d){var d=$.parseJSON(d.response);if(d.result&&d.result=="OK"){var b=d.id;$("#uploaded_file_"+c.id+" > .status").removeClass("label-info").addClass("label-success").html('<i class="fa fa-check"></i> Done')}else{$("#uploaded_file_"+c.id+" > .status").removeClass("label-info").addClass("label-danger").html('<i class="fa fa-warning"></i> Failed');App.alert({type:"danger",message:"One of uploads failed. Please retry.",closeInSeconds:10,icon:"warning"})}},Error:function(c,b){App.alert({type:"danger",message:b.message,closeInSeconds:10,icon:"warning"})}}});a.init()};var h=function(){var a=new Datatable();a.init({src:$("#datatable_reviews"),onSuccess:function(b){},onError:function(b){},loadingMessage:"Loading...",dataTable:{lengthMenu:[[10,20,50,100,150,-1],[10,20,50,100,150,"All"]],pageLength:10,ajax:{url:"../demo/ecommerce_product_reviews.php",},columnDefs:[{orderable:true,targets:[0]}],order:[[0,"asc"]]}})};var g=function(){var a=new Datatable();a.init({src:$("#datatable_history"),onSuccess:function(b){},onError:function(b){},loadingMessage:"Loading...",dataTable:{lengthMenu:[[10,20,50,100,150,-1],[10,20,50,100,150,"All"]],pageLength:10,ajax:{url:"../demo/ecommerce_product_history.php",},columnDefs:[{orderable:true,targets:[0]}],order:[[0,"asc"]]}})};var e=function(){$(".date-picker").datepicker({rtl:App.isRTL(),autoclose:true});$(".datetime-picker").datetimepicker({isRTL:App.isRTL(),autoclose:true,todayBtn:true,pickerPosition:(App.isRTL()?"bottom-right":"bottom-left"),minuteStep:10});$(".maxlength-handler").maxlength({limitReachedClass:"label label-danger",alwaysShow:true,threshold:5})};return{init:function(){e();f();h();g()}}}();jQuery(document).ready(function(){EcommerceProductsEdit.init()});