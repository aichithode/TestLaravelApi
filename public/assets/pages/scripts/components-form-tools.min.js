var ComponentsFormTools=function(){var d=function(){$("#maxlength_defaultconfig").maxlength({limitReachedClass:"label label-danger",});$("#maxlength_thresholdconfig").maxlength({limitReachedClass:"label label-danger",threshold:20});$("#maxlength_alloptions").maxlength({alwaysShow:true,warningClass:"label label-success",limitReachedClass:"label label-danger",separator:" out of ",preText:"You typed ",postText:" chars available.",validate:true});$("#maxlength_textarea").maxlength({limitReachedClass:"label label-danger",alwaysShow:true});$("#maxlength_placement").maxlength({limitReachedClass:"label label-danger",alwaysShow:true,placement:App.isRTL()?"top-right":"top-left"})};var c=function(){var f=false;var e=$("#password_strength");e.keydown(function(){if(f===false){e.pwstrength({raisePower:1.4,minChar:8,verdicts:["Weak","Normal","Medium","Strong","Very Strong"],scores:[17,26,40,50,60]});e.pwstrength("addRule","demoRule",function(g,h,i){return h.match(/[a-z].[0-9]/)&&i},10,true);f=true}})};var b=function(){var e=$("#username1_input");$("#username1_checker").click(function(h){var f=$(this);if(e.val()===""){e.closest(".form-group").removeClass("has-success").addClass("has-error");f.popover("destroy");f.popover({placement:(App.isRTL()?"left":"right"),html:true,container:"body",content:"Please enter a username to check its availability.",});f.data("bs.popover").tip().addClass("error");App.setLastPopedPopover(f);f.popover("show");h.stopPropagation();return}var g=$(this);g.attr("disabled",true);e.attr("readonly",true).attr("disabled",true).addClass("spinner");$.post("../demo/username_checker.php",{username:e.val()},function(i){g.attr("disabled",false);e.attr("readonly",false).attr("disabled",false).removeClass("spinner");if(i.status=="OK"){e.closest(".form-group").removeClass("has-error").addClass("has-success");f.popover("destroy");f.popover({html:true,placement:(App.isRTL()?"left":"right"),container:"body",content:i.message,});f.popover("show");f.data("bs.popover").tip().removeClass("error").addClass("success")}else{e.closest(".form-group").removeClass("has-success").addClass("has-error");f.popover("destroy");f.popover({html:true,placement:(App.isRTL()?"left":"right"),container:"body",content:i.message,});f.popover("show");f.data("bs.popover").tip().removeClass("success").addClass("error");App.setLastPopedPopover(f)}},"json")})};var a=function(){$("#username2_input").change(function(){var e=$(this);if(e.val()===""){e.closest(".form-group").removeClass("has-error").removeClass("has-success");$(".fa-check, fa-warning",e.closest(".form-group")).remove();return}e.attr("readonly",true).attr("disabled",true).addClass("spinner");$.post("../demo/username_checker.php",{username:e.val()},function(f){e.attr("readonly",false).attr("disabled",false).removeClass("spinner");if(f.status=="OK"){e.closest(".form-group").removeClass("has-error").addClass("has-success");$(".fa-warning",e.closest(".form-group")).remove();e.before('<i class="fa fa-check"></i>');e.data("bs.popover").tip().removeClass("error").addClass("success")}else{e.closest(".form-group").removeClass("has-success").addClass("has-error");$(".fa-check",e.closest(".form-group")).remove();e.before('<i class="fa fa-warning"></i>');e.popover("destroy");e.popover({html:true,placement:(App.isRTL()?"left":"right"),container:"body",content:f.message,});e.popover("show");e.data("bs.popover").tip().removeClass("success").addClass("error");App.setLastPopedPopover(e)}},"json")})};return{init:function(){d();c();b();a()}}}();if(App.isAngularJsApp()===false){jQuery(document).ready(function(){ComponentsFormTools.init()})};