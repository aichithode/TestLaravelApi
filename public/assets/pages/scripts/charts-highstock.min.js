jQuery(document).ready(function(){var b=[],a=0,d=["MSFT","AAPL","GOOG"],c=function(){$("#highstock_1").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:4},yAxis:{labels:{formatter:function(){return(this.value>0?" + ":"")+this.value+"%"}},plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{series:{compare:"percent"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',valueDecimals:2},series:b})};$.each(d,function(f,e){$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename="+e.toLowerCase()+"-c.json&callback=?",function(g){b[f]={name:e,data:g};a+=1;if(a===d.length){c()}})});$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-ohlcv.json&callback=?",function(j){var g=[],h=[],k=j.length,e=[["week",[1]],["month",[1,2,3,4,6]]],f=0;for(f;f<k;f+=1){g.push([j[f][0],j[f][1],j[f][2],j[f][3],j[f][4]]);h.push([j[f][0],j[f][5]])}$("#highstock_2").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:1},title:{text:"AAPL Historical"},yAxis:[{labels:{align:"right",x:-3},title:{text:"OHLC"},height:"60%",lineWidth:2},{labels:{align:"right",x:-3},title:{text:"Volume"},top:"65%",height:"35%",offset:0,lineWidth:2}],series:[{type:"candlestick",name:"AAPL",data:g,dataGrouping:{units:e}},{type:"column",name:"Volume",data:h,yAxis:1,dataGrouping:{units:e}}]})});$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-ohlc.json&callback=?",function(e){$("#highstock_3").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:2},title:{text:"AAPL Stock Price"},series:[{type:"ohlc",name:"AAPL Stock Price",data:e,dataGrouping:{units:[["week",[1]],["month",[1,2,3,4,6]]]}}]})});$.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=usdeur.json&callback=?",function(f){var e=new Date(f[f.length-1][0]).getFullYear();$("#highstock_4").highcharts("StockChart",{chart:{style:{fontFamily:"Open Sans"}},rangeSelector:{selected:1},title:{text:"USD to EUR exchange rate"},yAxis:{title:{text:"Exchange rate"}},series:[{name:"USD to EUR",data:f,id:"dataseries",tooltip:{valueDecimals:4}},{type:"flags",data:[{x:Date.UTC(e,1,22),title:"A",text:'Shape: "squarepin"'},{x:Date.UTC(e,3,28),title:"A",text:'Shape: "squarepin"'}],onSeries:"dataseries",shape:"squarepin",width:16},{type:"flags",data:[{x:Date.UTC(e,2,1),title:"B",text:'Shape: "circlepin"'},{x:Date.UTC(e,3,1),title:"B",text:'Shape: "circlepin"'}],shape:"circlepin",width:16},{type:"flags",data:[{x:Date.UTC(e,2,10),title:"C",text:'Shape: "flag"'},{x:Date.UTC(e,3,11),title:"C",text:'Shape: "flag"'}],color:Highcharts.getOptions().colors[0],fillColor:Highcharts.getOptions().colors[0],onSeries:"dataseries",width:16,style:{color:"white"},states:{hover:{fillColor:"#395C84"}}}]})})});