var EcommerceProductsEdit=function(){var a=function(){var e=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:document.getElementById("tab_images_uploader_pickfiles"),container:document.getElementById("tab_images_uploader_container"),url:"assets/plugins/plupload/examples/upload.php",filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"}]},flash_swf_url:"assets/plugins/plupload/js/Moxie.swf",silverlight_xap_url:"assets/plugins/plupload/js/Moxie.xap",init:{PostInit:function(){$("#tab_images_uploader_filelist").html("");$("#tab_images_uploader_uploadfiles").click(function(){e.start();return false});$("#tab_images_uploader_filelist").on("click",".added-files .remove",function(){e.removeFile($(this).parent(".added-files").attr("id"));$(this).parent(".added-files").remove()})},FilesAdded:function(f,g){plupload.each(g,function(h){$("#tab_images_uploader_filelist").append('<div class="alert alert-warning added-files" id="uploaded_file_'+h.id+'">'+h.name+"("+plupload.formatSize(h.size)+') <span class="status label label-info"></span>&nbsp;<a href="javascript:;" style="margin-top:-5px" class="remove pull-right btn btn-sm red"><i class="fa fa-times"></i> remove</a></div>')})},UploadProgress:function(f,g){$("#uploaded_file_"+g.id+" > .status").html(g.percent+"%")},FileUploaded:function(f,h,g){var g=$.parseJSON(g.response);if(g.result&&g.result=="OK"){var i=g.id;$("#uploaded_file_"+h.id+" > .status").removeClass("label-info").addClass("label-success").html('<i class="fa fa-check"></i> Done')}else{$("#uploaded_file_"+h.id+" > .status").removeClass("label-info").addClass("label-danger").html('<i class="fa fa-warning"></i> Failed');App.alert({type:"danger",message:"One of uploads failed. Please retry.",closeInSeconds:10,icon:"warning"})}},Error:function(f,g){App.alert({type:"danger",message:g.message,closeInSeconds:10,icon:"warning"})}}});e.init()};var c=function(){var e=new Datatable();e.init({src:$("#datatable_reviews"),onSuccess:function(f){},onError:function(f){},loadingMessage:"Loading...",dataTable:{lengthMenu:[[10,20,50,100,150,-1],[10,20,50,100,150,"All"]],pageLength:10,ajax:{url:"../demo/ecommerce_product_reviews.php",},columnDefs:[{orderable:true,targets:[0]}],order:[[0,"asc"]]}})};var d=function(){var e=new Datatable();e.init({src:$("#datatable_history"),onSuccess:function(f){},onError:function(f){},loadingMessage:"Loading...",dataTable:{lengthMenu:[[10,20,50,100,150,-1],[10,20,50,100,150,"All"]],pageLength:10,ajax:{url:"../demo/ecommerce_product_history.php",},columnDefs:[{orderable:true,targets:[0]}],order:[[0,"asc"]]}})};var b=function(){$(".date-picker").datepicker({rtl:App.isRTL(),autoclose:true});$(".datetime-picker").datetimepicker({isRTL:App.isRTL(),autoclose:true,todayBtn:true,pickerPosition:(App.isRTL()?"bottom-right":"bottom-left"),minuteStep:10});$(".maxlength-handler").maxlength({limitReachedClass:"label label-danger",alwaysShow:true,threshold:5})};return{init:function(){b();a();c();d()}}}();jQuery(document).ready(function(){EcommerceProductsEdit.init()});