var FormWizard=function(){return{init:function(){if(!jQuery().bootstrapWizard){return}function k(a){if(!a.id){return a.text}return"<img class='flag' src='../../assets/global/img/flags/"+a.id.toLowerCase()+".png'/>&nbsp;&nbsp;"+a.text}$("#country_list").select2({placeholder:"Select",allowClear:true,formatResult:k,width:"auto",formatSelection:k,escapeMarkup:function(a){return a}});var l=$("#submit_form");var h=$(".alert-danger",l);var i=$(".alert-success",l);l.validate({doNotHideMessage:true,errorElement:"span",errorClass:"help-block help-block-error",focusInvalid:false,rules:{username:{minlength:5,required:true},password:{minlength:5,required:true},rpassword:{minlength:5,required:true,equalTo:"#submit_form_password"},fullname:{required:true},email:{required:true,email:true},phone:{required:true},gender:{required:true},address:{required:true},city:{required:true},country:{required:true},card_name:{required:true},card_number:{minlength:16,maxlength:16,required:true},card_cvc:{digits:true,required:true,minlength:3,maxlength:4},card_expiry_date:{required:true},"payment[]":{required:true,minlength:1}},messages:{"payment[]":{required:"Please select at least one option",minlength:jQuery.validator.format("Please select at least one option")}},errorPlacement:function(b,a){if(a.attr("name")=="gender"){b.insertAfter("#form_gender_error")}else{if(a.attr("name")=="payment[]"){b.insertAfter("#form_payment_error")}else{b.insertAfter(a)}}},invalidHandler:function(a,b){i.hide();h.show();App.scrollTo(h,-200)},highlight:function(a){$(a).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(a){$(a).closest(".form-group").removeClass("has-error")},success:function(a){if(a.attr("for")=="gender"||a.attr("for")=="payment[]"){a.closest(".form-group").removeClass("has-error").addClass("has-success");a.remove()}else{a.addClass("valid").closest(".form-group").removeClass("has-error").addClass("has-success")}},submitHandler:function(a){i.show();h.hide()}});var j=function(){$("#tab4 .form-control-static",l).each(function(){var a=$('[name="'+$(this).attr("data-display")+'"]',l);if(a.is(":radio")){a=$('[name="'+$(this).attr("data-display")+'"]:checked',l)}if(a.is(":text")||a.is("textarea")){$(this).html(a.val())}else{if(a.is("select")){$(this).html(a.find("option:selected").text())}else{if(a.is(":radio")&&a.is(":checked")){$(this).html(a.attr("data-title"))}else{if($(this).attr("data-display")=="payment[]"){var b=[];$('[name="payment[]"]:checked',l).each(function(){b.push($(this).attr("data-title"))});$(this).html(b.join("<br>"))}}}}})};var g=function(c,f,e){var b=f.find("li").length;var a=e+1;$(".step-title",$("#form_wizard_1")).text("Step "+(e+1)+" of "+b);jQuery("li",$("#form_wizard_1")).removeClass("done");var o=f.find("li");for(var d=0;d<e;d++){jQuery(o[d]).addClass("done")}if(a==1){$("#form_wizard_1").find(".button-previous").hide()}else{$("#form_wizard_1").find(".button-previous").show()}if(a>=b){$("#form_wizard_1").find(".button-next").hide();$("#form_wizard_1").find(".button-submit").show();j()}else{$("#form_wizard_1").find(".button-next").show();$("#form_wizard_1").find(".button-submit").hide()}App.scrollTo($(".page-title"))};$("#form_wizard_1").bootstrapWizard({nextSelector:".button-next",previousSelector:".button-previous",onTabClick:function(b,d,c,a){return false;i.hide();h.hide();if(l.valid()==false){return false}g(b,d,a)},onNext:function(a,c,b){i.hide();h.hide();if(l.valid()==false){return false}g(a,c,b)},onPrevious:function(a,c,b){i.hide();h.hide();g(a,c,b)},onTabShow:function(c,f,d){var b=f.find("li").length;var a=d+1;var e=(a/b)*100;$("#form_wizard_1").find(".progress-bar").css({width:e+"%"})}});$("#form_wizard_1").find(".button-previous").hide();$("#form_wizard_1 .button-submit").click(function(){alert("Finished! Hope you like it :)")}).hide();$("#country_list",l).change(function(){l.validate().element($(this))})}}}();jQuery(document).ready(function(){FormWizard.init()});